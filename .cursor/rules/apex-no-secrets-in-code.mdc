---
description: No secrets in committed code; env or gitignored files only
alwaysApply: true
---

# No secrets in code

- **Never** put tokens, API keys, passwords, or refresh tokens in source code or in config that is committed. No fallbacks like `os.environ.get("REFRESH_TOKEN") or "hardcoded_value"`.
- Scripts and app code must read secrets **only** from environment variables or from gitignored files (e.g. `.env`, `.cursor/rules/credentials.mdc`). If a secret is missing, fail fast with a clear error. Prefer `.env` at repo root as the single source for all secrets; scripts and docs should reference `.env` / `.env.example`.
- Do not add a "default" or "example" value for any key that could ever be a real secret (e.g. no default `REFRESH_TOKEN`, `HA_TOKEN`, `OPENAI_API_KEY`). Example IPs in docs are OK; real IPs in code defaults are not.

Pre-commit and CI run a secret scanner (gitleaks); commits that introduce likely secrets will be blocked.
